# Token Growth Analysis and Visualization

This project allows you to fetch, analyze, and visualize the price growth of top cryptocurrencies over a configurable period (e.g., 365 days) using the CoinGecko API. It consists of two main scripts:

- `main.py`: Fetches token data, calculates growth, and saves results to CSV files.
- `draw_token_growth.py`: Reads the CSV and generates a visual bar chart with token logos.

## Requirements

Install all dependencies with:

```bash
pip install -r requirements.txt
```

## Setup

1. **API Key (Optional for Pro features):**
   - Create a `.env` file in the project root.
   - Add your CoinGecko API key (if you have one):
     ```
     YOUR_API_KEY=your_api_key_here
     ```
   - If you do not have a key, the script will use the free CoinGecko API.

2. **Output Directory:**
   - The scripts save all output files (CSV and images) to the `./output/` directory. Make sure this directory exists or will be created by the script.

## Usage

### 1. Fetch and Analyze Token Growth

Run the following command to fetch data and calculate growth:

```bash
python main.py
```

- This script will:
  - Fetch the top N tokens by market cap (configurable in the script).
  - Compare each token's current price to its price N days ago (also configurable).
  - Save the results to `./output/token_growth_data.csv` and `./output/top_tokens.csv`.
  - Generate a bar chart image: `./output/token_growth.png`.

### 2. Visualize from CSV

If you already have `token_growth_data.csv`, you can generate the visualization directly:

```bash
python draw_token_growth.py
```

- This script will:
  - Read `./output/token_growth_data.csv`.
  - Generate a bar chart image: `./output/token_growth_from_csv.png`.

## Configuration

You can change the following parameters at the top of `main.py`:
- `DAYS_AGO`: Number of days to look back for price comparison.
- `NUM_TOKENS`: Number of top tokens to fetch.
- `MAX_REQUESTS_PER_MINUTE`: API rate limit.
- `EXCLUDE_WRAP_TOKENS`: Set of tokens to exclude from analysis.

## Output Files

- `./output/token_growth_data.csv`: Growth data for each token (symbol, change_pct, logo, etc.).
- `./output/top_tokens.csv`: Raw data for the top tokens fetched.
- `./output/token_growth.png`: Bar chart image generated by `main.py`.
- `./output/token_growth_from_csv.png`: Bar chart image generated by `draw_token_growth.py`.

## Notes
- The scripts handle missing or problematic token logos gracefully.
- If a token does not have price data for the target date, the earliest available price is used and logged.
- The visualization uses a nonlinear (logarithmic) scale for bar lengths to ensure a visually balanced chart.

## License
MIT 